function parseFilters(t){const e=t.split(/\s+/).map(t=>t.trim());return e}function applyNetworkFilters(t){chrome.devtools.network.onRequestFinished.addListener(e=>{const n=e.request.url;let u=t.some(t=>n.includes(t));u&&addRequestToTable(e)})}function updateRequestList(){const t=filterInput.value.toLowerCase(),e=filterTypeSelect.value,n=parseFilters(t);requestList.innerHTML="",pageUrls.forEach(t=>{addPageUrlRow(t.url);const u=networkRequests.filter(t=>{const u=t.request.url.toLowerCase();return"and"===e?n.every(t=>u.includes(t)):n.some(t=>u.includes(t))});u.forEach(t=>{addRequestToTable(t)})})}function addRequestToTable(t){let e;t.request.url.includes("?")?(e=t.request.url.split("?")[0].split("/").slice(-1),e+="?"+t.request.url.split("?")[1]):e=t.request.url.split("/").slice(-1);const n=t.response.content.mimeType.split("/")[1],u=document.createElement("tr");u.className="request-item",u.innerHTML=`\n        <td title="${t.request.url}">/${e}</td>\n        <td>${t.response.status}</td>\n        <td>${t.request.method}</td>\n        <td>${n}</td>\n    `,u.addEventListener("click",()=>{showRequestDetails(t)}),requestList.appendChild(u)}function addPageUrlRow(t){const e=t.split("?")[0],n=document.createElement("tr");n.className="page-url-item",n.innerHTML=`\n        <td colspan="4" class="page-url">${e}</td>\n    `,requestList.appendChild(n)}function showRequestDetails(t){const e=t.request.queryString.map(t=>`${t.name}: ${t.value}`).join("\n"),n=t.request.postData?JSON.stringify(JSON.parse(t.request.postData.text),null,2):"N/A",u=`\n        Query Parameters:\n${e}\n\n\n        Request Payload:\n${n}\n    `;requestDetails.textContent=u,overlay.style.display="block"}const filterInput=document.getElementById("filter-input"),filterTypeSelect=document.getElementById("filter-type"),requestList=document.getElementById("request-list"),clearListButton=document.getElementById("clearList"),overlay=document.getElementById("overlay"),closeOverlayButton=document.getElementById("closeOverlay"),requestDetails=document.getElementById("requestDetails"),gtmButton=document.getElementById("gtmButton"),tagCoButton=document.getElementById("tagCoButton"),ga4Button=document.getElementById("ga4Button"),pianoButton=document.getElementById("pianoButton"),piwikButton=document.getElementById("piwikButton"),csButton=document.getElementById("csButton"),clarityButton=document.getElementById("clarityButton"),kameleoonButton=document.getElementById("kameleoonButton"),abtastyButton=document.getElementById("abtastyButton"),bingButton=document.getElementById("bingButton");let networkRequests=[],pageUrls=[];chrome.devtools.network.onRequestFinished.addListener(t=>{networkRequests.push(t),updateRequestList()}),chrome.devtools.network.onNavigated.addListener(t=>{pageUrls.push({url:t,requests:[]}),updateRequestList()}),filterInput.addEventListener("input",updateRequestList),filterTypeSelect.addEventListener("change",updateRequestList),document.getElementById("clearFilter").addEventListener("click",()=>{document.getElementById("filter-input").value="",updateRequestList()}),clearListButton.addEventListener("click",()=>{networkRequests=[],pageUrls=[],updateRequestList()}),closeOverlayButton.addEventListener("click",()=>{overlay.style.display="none"}),tagCoButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="cdn.tagcommander.com",updateRequestList()}),pianoButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="hit.xiti event?s=",updateRequestList()}),csButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="c.contentsquare.net",updateRequestList()}),clarityButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="n.clarity.ms/collect",updateRequestList()}),kameleoonButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="data.kameleoon.eu",updateRequestList()}),abtastyButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="try.abtasty.com ariane.abtasty.com",updateRequestList()}),bingButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="bat.bing.com",updateRequestList()}),gtmButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="www.googletagmanager.com",updateRequestList()}),ga4Button.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="google-analytics.com/collect",updateRequestList()}),piwikButton.addEventListener("click",()=>{""!==filterInput.value.trim()&&(filterInput.value+=" "),filterInput.value+="ppms.php",updateRequestList()});