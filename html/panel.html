<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Auditor</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="panel">

        <br>
        <div class="divHeader">
            <div id="divTopMenu" class="divTopMenu">
                <div class="menuItem" id="menuNews">ðŸ“° What's new?</div>
                <div class="menuItem"  id="menuBugs" style="margin-left: 20px!important;">ðŸª² Known bugs</div>
                <div class="menuItem"  id="menuHelp" style="float:right;">ðŸ›Ÿ How to write rules?</div>
            </div>
            <input type="hidden" id="activatedButtons" class="filterInput">
            <input type="hidden" id="filterHidden" class="filterInput">
            <input type="text" id="filterInput" class="filterInput" placeholder="Enter keywords separated by AND, OR, NOT. You can use parentheses.">
            
            <br><br>
            <button id="showFilters" class="buttonGreen">Show predefined filters</button>
            <button id="clearRequests">Clear requests</button><br></div>
        

        <div id="divFilters" class="divFilters" data-status="hidden">
            <span class="subTitle">Consent Managers: </span><br>
            <button id="oneTrustButton" class="normalButton" data-syntax="cdn.cookielaw.org/scripttemplates">OneTrust</button>
            <button id="trustCoButton" class="normalButton" data-syntax="(cdn.trustcommander.net/privacy OR (privacy_v AND .js))">Trust Commander</button>
            <button id="cookieBotButton" class="normalButton" disabled>Cookiebot</button>
            <button id="didomiButton" class="normalButton" disabled>Didomi</button>
            <button id="tarteAuCitronButton" class="normalButton" disabled>Tarte Au Citron</button><br><br>

            <span class="subTitle">Tag Managers: </span><br>
            <button id="gtmClientSideButton" class="normalButton" data-syntax="(www.googletagmanager.com/gtm.js AND NOT (aw- OR dc-))">GTM client-side</button>
            <button id="gtmServerSideButton" class="normalButton" data-syntax="(gtm.js AND NOT www.googletagmanager.com)">GTM server-side</button>
            <button id="tagCoButton" class="normalButton" data-syntax="(cdn.tagcommander.com OR (tc_ AND .js))">Tag Commander</button><br><br>

            <span class="subTitle">Web Analytics: </span><br>
            <button id="ga4ClientSideButton" class="normalButton" data-syntax="(google-analytics.com/g/collect OR googletagmanager.com/gtag/js?id=G- OR analytics.google.com)">GA4 client-side</button>
            <button id="ga4ServerSideButton" class="normalButton" data-syntax="(/g/collect AND NOT (google-analytics.com OR analytics.google.com))">GA4 server-side</button>
            <button id="atinternetButton" class="normalButton" data-syntax="xiti.com/hit.xiti">AT Internet</button>
            <button id="pianoButton" class="normalButton" data-syntax="xiti.com/event">Piano Analytics</button>
            <button id="piwikButton" class="normalButton" data-syntax="ppms.php">Piwik</button>
            <button id="matomoButton" class="normalButton" disabled>Matomo</button><br><br>

            <span class="subTitle">UX: </span><br>
            <button id="csButton" class="normalButton" data-syntax="(contentsquare.net/uxa OR contentsquare.net/pageview OR contentsquare.net/v2)">Contentsquare</button>
            <button id="clarityButton" class="normalButton" data-syntax="n.clarity.ms/collect">Clarity</button>
            <button id="hotjarButton" class="normalButton" disabled>Hotjar</button><br><br>

            <span class="subTitle">A/B testing: </span><br>
            <button id="kameleoonButton" class="normalButton" data-syntax="data.kameleoon.eu">Kameleoon</button>
            <button id="abtastyButton" class="normalButton" data-syntax="(try.abtasty.com OR ariane.abtasty.com)">AB Tasty</button><br><br>

            <span class="subTitle">Advertising: </span><br>
            <button id="googleTagButton" class="normalButton" data-syntax="google.com/ccm/collect">Google Tag</button>
            <button id="googleAdsButton" class="normalButton" data-syntax="googletagmanager.com/gtag/js?id=AW-">Google Ads</button>
            <button id="googleDCButton" class="normalButton" data-syntax="(googletagmanager.com/gtag/js?id=DC- OR g.doubleclick.net/)">Google DoubleClick</button>
            <button id="bingButton" class="normalButton" data-syntax="(bat.bing.com/action OR bat.bing.com/p/action OR bat.bing.net/actionp)">Bing</button>
            <button id="facebookButton" class="normalButton" disabled>Facebook</button>
            <button id="twitterButton" class="normalButton" disabled>Twitter / X</button>
            <button id="pinterestButton" class="normalButton" disabled>Pinterest</button>
            <button id="linkedinButton" class="normalButton" disabled>LinkedIn</button>
            <button id="leboncoinButton" class="normalButton" disabled>Le Bon Coin</button><br><br>

            
            <button id="clearFilters">Clear filters</button>
        </div>
        <div id="tinyButtonsDiv" class="tinyButtonsDiv">
            <button id="tiny_oneTrustButton" class="tinyButton">OneTrust</button>
            <button id="tiny_trustCoButton" class="tinyButton">TrustCo</button>
            <button id="tiny_cookieBotButton" class="tinyButton">Cookiebot</button>
            <button id="tiny_didomiButton" class="tinyButton">Didomi</button>
            <button id="tiny_tarteAuCitronButton" class="tinyButton">Tarte Au Citron</button>
            <button id="tiny_gtmClientSideButton" class="tinyButton">GTM client</button>
            <button id="tiny_gtmServerSideButton" class="tinyButton">GTM server</button>
            <button id="tiny_tagCoButton" class="tinyButton">TagCo</button>
            <button id="tiny_ga4ClientSideButton" class="tinyButton">GA4 client</button>
            <button id="tiny_ga4ServerSideButton" class="tinyButton">GA4 server</button>
            <button id="tiny_atinternetButton" class="tinyButton">AT</button>
            <button id="tiny_pianoButton" class="tinyButton">Piano</button>
            <button id="tiny_piwikButton" class="tinyButton">Piwik</button>
            <button id="tiny_matomoButton" class="tinyButton">Matomo</button>
            <button id="tiny_csButton" class="tinyButton">CS</button>
            <button id="tiny_clarityButton" class="tinyButton">Clarity</button>
            <button id="tiny_hotjarButton" class="tinyButton">HotJar</button>
            <button id="tiny_kameleoonButton" class="tinyButton">Kameleoon</button>
            <button id="tiny_abtastyButton" class="tinyButton">AB Tasty</button>
            <button id="tiny_googleTagButton" class="tinyButton">G tag</button>
            <button id="tiny_googleAdsButton" class="tinyButton">G Ads</button>
            <button id="tiny_googleDCButton" class="tinyButton">G DC</button>
            <button id="tiny_bingButton" class="tinyButton">Bing</button>
            <button id="tiny_facebookButton" class="tinyButton">Facebook</button>
            <button id="tiny_twitterButton" class="tinyButton">X</button>
            <button id="tiny_linkedinButton" class="tinyButton">LinkedIn</button>
            <button id="tiny_leboncoinButton" class="tinyButton">LBC</button>
        </div>
        <table id="requestTable" class="requestTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Status</th>
                    <th>Request</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody id="requestList" class="request-list"></tbody>
        </table>
    </div>
    <div id="overlay" class="overlay">
        <div class="overlay-content">
            <button id="closeOverlay" class="close-overlay">X</button><span class="titleGreen">&nbsp;Request Details&nbsp;</span><br><br><br>
            <div id="requestDetails"></div>
        </div>
    </div>
    <div id="popinNews" class="popinInfo">
        <div class="popinInfo-content">
            <button id="closePopinNews" class="closePopin">X</button><span class="titleGreen">&nbsp;What's new?&nbsp;</span><br><br><br>
            <div id="newsContent">
                <p><span class="popinInfo-title">2025-03-16: Version 1.2 release.</span><br>
                    New features:                
                    <ul>
                        <li>New way to write rules using logic operators (AND, OR, NOT). See "How to write rules for nore info.</li>
                        <li>New way to handle predifined filters: they are now activated like switches and stored in an hidden area</li>
                        <li>Added tiny labels for each predifined filter to keep tracking of the activated ones once the filters panel is closed</li>
                    </ul>
                </p>
            </div>
        </div>
    </div>
    <div id="popinBugs" class="popinInfo">
        <div class="popinInfo-content">
            <button id="closePopinBugs" class="closePopin">X</button><span class="titleGreen">&nbsp;Know bugs?&nbsp;</span><br><br><br>
            <div id="bugsContent">    
                <ul>
                    <li>Sometimes clicking on a request does nothing (often the first or last line)</li>
                    <li>When loading a new page, sone request are duplicated on the previous page</li>
                </ul>
                If you experience any other issue, feel free to report it in the Github issue section > <a href="https://github.com/SamLeBarbu/network-auditor/issues" target="_blank">Github project issue section</a>
            </div>
        </div>
    </div>
    <div id="popinHelp" class="popinInfo">
        <div class="popinInfo-content">
            <button id="closePopinHelp" class="closePopin">X</button><span class="titleGreen">&nbsp;How to write rules?&nbsp;</span><br><br><br>
            <div id="howToContent">To filter the requests, you can use predifined filters or write your own rules using logic operators (AND, OR, NOT).<br>
                <br>
                <span class="subTitle">Logic operators:</span><br>
                <ul>
                    <li><strong>AND</strong>: use it to combine two or more keywords. Example: <span class="code">google AND gtm.js</span></li>
                    <li><strong>OR</strong>: use it to combine two or more keywords. Example: <span class="code">google-analytics.com OR gtm.js</span></li>
                    <li><strong>NOT</strong>: use it to exclude a keyword. Remember to combine it with AND or OR. Example: <span class="code">google-analytics.com AND NOT gtm.js</span></li>
                </ul>
                <span class="subTitle">Parentheses:</span><br>
                Use parentheses to group keywords. Example: <span class="code">(google-analytics.com OR gtm.js) AND NOT (aw- OR dc-)</span>
                </div>
        </div>
    </div>

    <!-- Add a static arrow at the buttom right to go back to the top of the page -->
    <div class="backToTop" id="backToTop"><div class="backToTopArrow">></div><br><span>Go to top</span></div>
    <script src="../js/panel.min.js"></script>
    <script src="../js/pre_ppms.min.js"></script>
</body>
</html>